<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ğŸ’˜ Valentine Week</title>

<style>
  body{
    margin:0;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:flex-start;
    padding: 18px 12px;
    overflow-y:auto;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

    background:
      linear-gradient(rgba(255, 245, 250, 0.5), rgba(255, 245, 250, 0.5)),
      url("https://raw.githubusercontent.com/dalli0722-droid/valentine/main/background.jpg");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
  }

  .card{
    position: relative;
    background:
      linear-gradient(rgba(255,255,255,.75), rgba(255,255,255,.75)),
      url("https://raw.githubusercontent.com/dalli0722-droid/valentine/main/background.jpg");
    background-size: cover;
    background-position: center;

    padding: 22px 18px;
    width: min(980px, 96vw);
    border-radius: 22px;
    box-shadow: 0 10px 35px rgba(0,0,0,.15);
    text-align:center;
    overflow: hidden;
  }

  .hidden{ display:none; }

  h1{
    margin: 0 0 10px;
    font-size: 52px;
    font-weight: 900;
  }

  p{
    margin: 0 0 18px;
    color:#444;
    font-size: 22px;
  }

  button{
    border:0;
    cursor:pointer;
    user-select:none;
    box-shadow: 0 10px 22px rgba(0,0,0,.10);
    border-radius: 14px;
    transition: transform .08s ease;
  }
  button:active{ transform: scale(.98); }

  .yesBtn{ background:#ff3b7a; color:white; }
  .noBtn{ background:#cfd6e6; color:#1f2a44; }

  .bigBtn{
    padding: 14px 22px;
    font-size: 18px;
    min-width: 140px;
  }

  .nextSmall{
    padding: 10px 18px;
    font-size: 16px;
    border-radius: 12px;
  }

  .msg{
    height: 22px;
    font-size: 15px;
    color: #2b3a67;
    margin-top: 10px;
    opacity: 0;
    transition: opacity .15s ease;
  }
  .msg.show{ opacity: 1; }

  /* ===== Day layout ===== */
  .dayTitle{
    font-size: 40px;
    font-weight: 900;
    margin: 4px 0 14px;
  }

  .dayGrid{
    display:grid;
    grid-template-columns: 1.25fr 0.75fr;
    gap: 14px;
    align-items: stretch;
    margin: 0 auto;
    max-width: 920px;
  }

  .imgBox{
    background: rgba(255,255,255,0.60);
    border-radius: 18px;
    padding: 6px;
    display:flex;
    align-items:center;
    justify-content:center;
  }

  .dayImg{
    width: 100%;
    height: 360px;                 /* keep big */
    object-fit: contain;           /* no crop */
    background: rgba(255,255,255,.35);
    border-radius: 16px;
    box-shadow: 0 10px 22px rgba(0,0,0,.14);
  }

  .textBox{
    background: rgba(255,255,255,0.78);
    border-radius: 18px;
    padding: 18px;
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:left;
  }

  .dayText{
    margin:0;
    font-size: 20px;
    line-height: 1.45;
    color:#333;
  }

  .dayText strong{
    color:#d6336c;
    font-size: 22px;
  }

  .bottomBar{
    margin-top: 16px;
    display:flex;
    justify-content:center;
    gap: 10px;
  }

  /* Valentine arena (Yes/No) */
  .arena{
    position: relative;
    width: min(520px, 92vw);
    height: 170px;
    margin: 10px auto 0;
  }

  .row{
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:16px;
  }

  /* ===== Lock overlay ===== */
  .lockWrap{ position: relative; }
  .lockOverlay{
    position:absolute;
    inset:0;
    background: rgba(255,255,255,.82);
    backdrop-filter: blur(3px);
    border-radius: 18px;
    display:flex;
    align-items:center;
    justify-content:center;
    padding: 16px;
    z-index: 50;
  }
  .lockBox{
    background: rgba(255,255,255,.92);
    border-radius: 16px;
    padding: 14px 16px;
    box-shadow: 0 10px 22px rgba(0,0,0,.10);
    max-width: 520px;
  }
  .lockTitle{
    font-weight: 900;
    font-size: 20px;
    margin: 0 0 6px;
  }
  .lockText{
    margin: 0;
    color:#444;
    font-size: 16px;
  }

  @media (max-width: 760px){
    .dayGrid{ grid-template-columns: 1fr; }
    .textBox{ text-align:center; }
    .dayImg{ height: 320px; }
  }

  @media (max-width: 480px){
    h1{ font-size: 40px; }
    .dayTitle{ font-size: 32px; }
    .dayImg{ height: 300px; }
  }
</style>
</head>

<body>

<!-- INTRO -->
<div class="card" id="screen1">
  <h1>Hiâ¤ï¸, Hope you are in a good moodğŸ¥²</h1>
  <p>(Hopefully I am not irritating you too muchğŸ˜…).</p>
  <p>I made something for youâ€¦</p>
  <p>Are you ready?</p>

  <div class="arena">
    <div class="row">
      <button class="yesBtn bigBtn" onclick="show('screen2')">Yes ğŸ’–</button>
      <button class="noBtn bigBtn" id="noIntro">No ğŸ˜”</button>
    </div>
  </div>

  <div class="msg" id="msg1">Okayyy ğŸ˜… Iâ€™ll waitâ€¦</div>
</div>

<!-- ROSE DAY -->
<div class="card hidden" id="screen2">
  <div class="lockWrap">
    <div class="dayTitle">Rose Day ğŸŒ¹</div>
    <div class="dayGrid">
      <div class="imgBox">
        <img class="dayImg" src="https://raw.githubusercontent.com/dalli0722-droid/valentine/main/rose.jpg" alt="Rose Day">
      </div>
      <div class="textBox">
        <p class="dayText">
          A rose for my favorite person â¤ï¸<br><br>
          <strong>â€œIâ€™d still choose you first every single day.â€</strong>
        </p>
      </div>
    </div>
    <div class="bottomBar">
      <button class="yesBtn nextSmall" onclick="goNext('screen3')">Next âœ</button>
    </div>
  </div>
</div>

<!-- PROPOSE DAY -->
<div class="card hidden" id="screen3">
  <div class="lockWrap">
    <div class="dayTitle">Propose Day ğŸ’</div>
    <div class="dayGrid">
      <div class="imgBox">
        <img class="dayImg" src="https://raw.githubusercontent.com/dalli0722-droid/valentine/main/purpose.jpg" alt="Propose Day">
      </div>
      <div class="textBox">
        <p class="dayText"><strong>I choose you for all my tomorrowsâ€¦</strong></p>
      </div>
    </div>
    <div class="bottomBar">
      <button class="yesBtn nextSmall" onclick="goNext('screen4')">Next âœ</button>
    </div>
  </div>
</div>

<!-- CHOCOLATE DAY -->
<div class="card hidden" id="screen4">
  <div class="lockWrap">
    <div class="dayTitle">Chocolate Day ğŸ«</div>
    <div class="dayGrid">
      <div class="imgBox">
        <img class="dayImg" src="https://raw.githubusercontent.com/dalli0722-droid/valentine/main/chocolate.jpg" alt="Chocolate Day">
      </div>
      <div class="textBox">
        <p class="dayText"><strong>You make even the ordinary feel sweet.</strong></p>
      </div>
    </div>
    <div class="bottomBar">
      <button class="yesBtn nextSmall" onclick="goNext('screen5')">Next âœ</button>
    </div>
  </div>
</div>

<!-- TEDDY DAY -->
<div class="card hidden" id="screen5">
  <div class="lockWrap">
    <div class="dayTitle">Teddy Day ğŸ§¸</div>
    <div class="dayGrid">
      <div class="imgBox">
        <img class="dayImg" src="https://raw.githubusercontent.com/dalli0722-droid/valentine/main/teddy.jpg" alt="Teddy Day">
      </div>
      <div class="textBox">
        <p class="dayText">
          If I could, Iâ€™d send you a teddy that hugs like me ğŸ§¸<br><br>
          <strong>Until thenâ€¦ consider this a warm squeeze.</strong>
        </p>
      </div>
    </div>
    <div class="bottomBar">
      <button class="yesBtn nextSmall" onclick="goNext('screen6')">Next âœ</button>
    </div>
  </div>
</div>

<!-- PROMISE DAY -->
<div class="card hidden" id="screen6">
  <div class="lockWrap">
    <div class="dayTitle">Promise Day ğŸ¤</div>
    <div class="dayGrid">
      <div class="imgBox">
        <img class="dayImg" src="https://raw.githubusercontent.com/dalli0722-droid/valentine/main/promise.jpg" alt="Promise Day">
      </div>
      <div class="textBox">
        <p class="dayText"><strong>Stay with me a bit longer â¤ï¸â€¦</strong></p>
      </div>
    </div>
    <div class="bottomBar">
      <button class="yesBtn nextSmall" onclick="goNext('screen7')">Next âœ</button>
    </div>
  </div>
</div>

<!-- HUG DAY -->
<div class="card hidden" id="screen7">
  <div class="lockWrap">
    <div class="dayTitle">Hug Day ğŸ¤</div>
    <div class="dayGrid">
      <div class="imgBox">
        <img class="dayImg" src="https://raw.githubusercontent.com/dalli0722-droid/valentine/main/hug.jpg" alt="Hug Day">
      </div>
      <div class="textBox">
        <p class="dayText"><strong>Peace feels like you â¤ï¸â€¦</strong></p>
      </div>
    </div>
    <div class="bottomBar">
      <button class="yesBtn nextSmall" onclick="goNext('screen8')">Next âœ</button>
    </div>
  </div>
</div>

<!-- KISS DAY -->
<div class="card hidden" id="screen8">
  <div class="lockWrap">
    <div class="dayTitle">Kiss Day ğŸ˜˜</div>
    <div class="dayGrid">
      <div class="imgBox">
        <img class="dayImg" src="https://raw.githubusercontent.com/dalli0722-droid/valentine/main/kiss.jpg" alt="Kiss Day">
      </div>
      <div class="textBox">
        <p class="dayText"><strong>Still falling for you.</strong></p>
      </div>
    </div>
    <div class="bottomBar">
      <button class="yesBtn nextSmall" onclick="goNext('screen9')">Next âœ</button>
    </div>
  </div>
</div>

<!-- VALENTINE (YES/NO + moving NO + messages) -->
<div class="card hidden" id="screen9">
  <div class="lockWrap">
    <div class="dayTitle">Valentineâ€™s Day ğŸ’˜</div>
    <p class="dayText" style="text-align:center;">
      Now to the question of the day...<br><br>
      <strong>Will you be my Valentine?ğŸ¥¹</strong>
    </p>

    <div class="arena" id="arenaV">
      <div class="row" id="rowV">
        <button class="yesBtn bigBtn" id="yesV">Yes ğŸ’–</button>
        <button class="noBtn bigBtn" id="noV">No ğŸ˜”</button>
      </div>
    </div>

    <div class="msg" id="msgV">Wrong answer ğŸ˜… Try again</div>
  </div>
</div>

<!-- FINAL PAGE -->
<div class="card hidden" id="screen10">
  <div class="dayTitle">Happy Valentineâ€™s Day BabağŸ’˜</div>
  <p class="dayText" style="text-align:center;">
    <strong>Three years, and Iâ€™d still choose you everyday of the week for the rest of my life.</strong><br><br>
    Thank you for being my best dayâ€¦ every day â¤ï¸ I would rather have you be mad at me than sad with anyone else... Happy valentine's day babaâ¤ï¸â¤ï¸ Iloveyouâ¤ï¸
  </p>
</div>

<script>
  // ===== Unlock schedule for 2026 (CST/Chicago) =====
  const unlockSchedule = {
    screen2: "2026-02-07", // Rose Day
    screen3: "2026-02-08", // Propose Day
    screen4: "2026-02-09", // Chocolate Day
    screen5: "2026-02-10", // Teddy Day
    screen6: "2026-02-11", // Promise Day
    screen7: "2026-02-12", // Hug Day
    screen8: "2026-02-13", // Kiss Day
    screen9: "2026-02-14"  // Valentine's Day
  };

  function getTodayISO(){
    // Optional test: add ?date=2026-02-10 to your URL
    const params = new URLSearchParams(location.search);
    const fake = params.get("date");
    if (fake && /^\d{4}-\d{2}-\d{2}$/.test(fake)) return fake;

    // Force CST/Chicago date
    const parts = new Intl.DateTimeFormat("en-CA", {
      timeZone: "America/Chicago",
      year: "numeric",
      month: "2-digit",
      day: "2-digit"
    }).formatToParts(new Date());

    const y = parts.find(p => p.type === "year").value;
    const m = parts.find(p => p.type === "month").value;
    const d = parts.find(p => p.type === "day").value;
    return `${y}-${m}-${d}`;
  }

  function isUnlocked(screenId){
    const today = getTodayISO();
    const unlock = unlockSchedule[screenId];
    if (!unlock) return true;
    return today >= unlock;
  }

  function attachLockOverlay(screenId){
    const screen = document.getElementById(screenId);
    if (!screen) return;

    const wrap = screen.querySelector(".lockWrap");
    if (!wrap) return;

    const existing = wrap.querySelector(".lockOverlay");
    if (existing) existing.remove();

    if (isUnlocked(screenId)) return;

    const unlock = unlockSchedule[screenId];
    const overlay = document.createElement("div");
    overlay.className = "lockOverlay";
    overlay.innerHTML = `
      <div class="lockBox">
        <p class="lockTitle">Locked for now ğŸ”’</p>
        <p class="lockText">Open this one on <strong>${unlock}</strong> ğŸ’–</p>
      </div>
    `;
    wrap.appendChild(overlay);
  }

  function applyLocks(){
    Object.keys(unlockSchedule).forEach(attachLockOverlay);
  }

  function show(id){
    document.querySelectorAll('.card').forEach(c=>c.classList.add('hidden'));
    document.getElementById(id).classList.remove('hidden');
    applyLocks();
    attachLockOverlay(id);
    window.scrollTo({top:0, behavior:'smooth'});
  }

  function goNext(nextId){
    // show it either way; locked overlay will appear if needed
    show(nextId);
  }

  function flash(el, ms=1000){
    el.classList.add('show');
    clearTimeout(el.__t);
    el.__t = setTimeout(()=>el.classList.remove('show'), ms);
  }

  // Intro NO -> message
  const noIntro = document.getElementById("noIntro");
  const msg1 = document.getElementById("msg1");
  noIntro.addEventListener("click", () => flash(msg1, 1100));

  // Valentine moving NO + messages
  const yesV = document.getElementById('yesV');
  const noV  = document.getElementById('noV');
  const arenaV = document.getElementById('arenaV');
  const rowV = document.getElementById('rowV');
  const msgV = document.getElementById('msgV');

  const noMessages = [
    "Wrong answer ğŸ˜… Try again",
    "Nopeee ğŸ˜­ Try again",
    "Are you sure? ğŸ¥² Just click Yes",
    "Please select yesğŸ˜­ğŸ˜­",
    "Iâ€™m running out of patience ğŸ˜¤ (jk) â€” Yes please!",
    "Okay last timeâ€¦ YES ğŸ˜­ğŸ’–"
  ];

  let noIsFree = false;
  let noClickCount = 0;

  function setNoMessage(){
    msgV.textContent = noMessages[Math.min(noClickCount, noMessages.length - 1)];
  }

  function detachNo(){
    if (noIsFree) return;
    noIsFree = true;

    rowV.removeChild(noV);
    arenaV.appendChild(noV);
    noV.style.position = 'absolute';
  }

  function moveNoButton(){
    const a = arenaV.getBoundingClientRect();
    const n = noV.getBoundingClientRect();
    const y = yesV.getBoundingClientRect();

    const yesTop = y.top - a.top;
    const yesBottom = yesTop + y.height;

    const padding = 10;
    const maxX = Math.max(padding, a.width - n.width - padding);
    const maxY = Math.max(padding, a.height - n.height - padding);

    const buffer = 26;
    const forbiddenTop = yesTop - buffer;
    const forbiddenBottom = yesBottom + buffer;

    let x, yPos, tries = 0;
    do {
      x = padding + Math.random() * (maxX - padding);
      yPos = padding + Math.random() * (maxY - padding);
      tries++;

      if (yPos + n.height < forbiddenTop || yPos > forbiddenBottom) break;
    } while (tries < 150);

    noV.style.left = `${x}px`;
    noV.style.top  = `${yPos}px`;
  }

  noV.addEventListener('click', () => {
    noClickCount++;
    setNoMessage();
    flash(msgV, 950);
    detachNo();
    moveNoButton();
  });

  yesV.addEventListener('click', () => {
    // Reset NO button state
    noIsFree = false;
    noClickCount = 0;
    msgV.textContent = noMessages[0];

    if (noV.parentElement !== rowV) {
      noV.style.position = "";
      noV.style.left = "";
      noV.style.top = "";
      rowV.appendChild(noV);
    }

    show('screen10');
  });

  // initial lock state
  applyLocks();
</script>

</body>
</html>

